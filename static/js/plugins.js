
// usage: log('inside coolFunc', this, arguments);
window.log = function(){
  log.history = log.history || [];   // store logs to an array for reference
  log.history.push(arguments);
  if(this.console) {
      arguments.callee = arguments.callee.caller;
      console.log( Array.prototype.slice.call(arguments) );
  }
};
(function(b){function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();)b[a]=b[a]||c})(window.console=window.console||{});

//cssfx
var cssFx=cssFx||{};(function(c){var d=";",g="string",u="background",j="background-image",t="text-overflow",s="border-top-right-radius",r="border-top-left-radius",q="border-bottom-right-radius",p="border-bottom-left-radius",o="background-clip",n="transition-property",m="transition",l="box-align",f=false;!function(m,a){function l(a){c=1;while(a=b.shift())a()}var b=[],d,e,f=false,g=a.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",c=/^loade|c/.test(a.readyState);a[j]&&a[j](i,e=function(){a.removeEventListener(i,e,f),l()},f),h&&a.attachEvent(k,d=function(){/^c/.test(a.readyState)&&(a.detachEvent(k,d),l())}),m.domReady=h?function(a){self!=top?c?a():b.push(a):function(){try{g.doScroll("left")}catch(b){return setTimeout(function(){domReady(a)},50)}a()}()}:function(a){c?a():b.push(a)}}(this,document);function A(a){if(AJAX=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")){AJAX.open("GET",a,f);AJAX.send(null);return AJAX.responseText}else return f}function b(a){return a.replace(/\n/gm,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/\s{2,}|\t/gm," ")}function h(a){return a.replace(/\/\*([\s\S]*?)\*\//gim,"")}function z(a,b,c){return((256+a<<8|b)<<8|c).toString(16).slice(1)}if(!Array.indexOf)Array.prototype.indexOf=function(c,b){for(var a=b||0;a<this.length;a++)if(this[a]==c)return a;return-1};function e(b,c){for(var d=b.length,a=0;a<d;a++)c.call(this,b[a])}var a=["-moz-","-webkit-","-o-","-ms-"],x=["background-origin","background-size","border-image","border-image-outset","border-image-repeat","border-image-source","border-image-width","border-radius","box-shadow","column-count","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-width"],w=["box-flex","box-orient",l,"box-ordinal-group","box-flex-group","box-pack","box-direction","box-lines","box-sizing","animation-duration","animation-name","animation-delay","animation-direction","animation-iteration-count","animation-play-state","animation-timing-function","animation-fill-mode"],v=["transform","transform-origin",m,n,"transition-duration","transition-timing-function","transition-delay","user-select"],y=[o,p,q,r,s],i=y.concat(v).concat(x).concat(w),k=["display","opacity",t,j,u].concat(i);c.processCSS=function(r){var s=[],n=/([\s\S]*?)\{([\s\S]*?)\}/gim,m=/\@import\s+(?:url\([\'\"]|[\'\"])([\w\s\-\_\.\:\/\;\:]+)/gim,l=/@keyframes([\s\S]*?){\s*from\s*{([\s\S]*?)}\s*to\s*{([\s\S]*?)}\s*}/gim;for(var q in r){var f=r[q];if(typeof f===g){f=b(h(f));var p=[],t=m.test(f)&&f.match(m),o=l.test(f)&&f.match(l);m.lastIndex=0;l.lastIndex=0;if(t.length>0)for(var i=0;i<t.length;i++)r.push(c.fetchCSS([m.exec(f.match(m)[i])[1]],true));if(o.length>0)for(var i=0;i<o.length;i++){f=f.replace(o[i],"");var j=l.exec(o[i]);e([0,1,3],function(h){var f=[],g=[];e(j[2].split(d),function(e){var a=b(e),d=c.processDec(a);a.length>0&&f.push(d?d:a)});e(j[3].split(d),function(e){var a=b(e),d=c.processDec(a);a.length>0&&g.push(d?d:a)});p.push("@"+a[h]+"keyframes "+b(j[1])+" { from {"+f.join(d)+"} to {"+g.join(d)+"} }")});l.lastIndex=0}var u=n.test(f)&&f.match(n);n.lastIndex=0;for(var q=0,x=u.length;q<x;q++){var j=n.exec(u[q]);if(j!==null){var w=b(h(j[1])),v=b(h(j[2]));for(var y in k)if(v.indexOf(k[y])!==-1){(new_dec=c.processDec(v))&&p.push(w+"{"+new_dec+"}");break}}n.lastIndex=0}p.length>0&&s.push(p.join("\n"))}}return s};c.insertCSS=function(b){for(var c in b)if(typeof b[c]===g){var a=document.createElement("style");a.setAttribute("type","text/css");if(a.styleSheet)a.styleSheet.cssText=b[c];else a.textContent=b[c];document.getElementsByTagName("head")[0].appendChild(a)}};c.processDec=function(c){var F="display:",y=":",A=c.split(d),D=[];for(var E in A)if(typeof A[E]===g&&A[E].indexOf(y)!==-1){var c=A[E].split(y);if(c.length!=2)return f;c[0]=b(c[0]);c[1]=b(c[1]);var h=[],k=c.join(y);if(x.indexOf(c[0])!==-1){h.push(a[0]+k);h.push(a[1]+k)}else if(w.indexOf(c[0])!==-1){h.push(a[0]+k);h.push(a[1]+k);if(c[0]===l)h.push(a[3]+c[0]+":middle");else h.push(a[3]+k)}else if(v.indexOf(c[0])!==-1)e([0,1,2,3],function(d){if(c[0]==m){var f=c[1].split(" ")[0];if(i.indexOf(f)!==-1)h.push(a[d]+k.replace(f,a[d]+f));else h.push(a[d]+k)}else if(c[0]==n){if(d==0){var j=c[1].split(","),g=[];e(j,function(e){var c=b(e);i.indexOf(c)!==-1&&g.push(a[d]+c)});h.push(a[d]+c[0]+y+g.join(","))}}else h.push(a[d]+k)});else switch(c[0]){case r:case s:case p:case q:var J=c[0].split("-");h.push(a[0]+"border-radius-"+J[1]+J[2]+y+c[1]);h.push(a[1]+k);break;case"display":if(c[1]==="box")e([0,1,3],function(b){h.push(F+a[b]+c[1])});else if(c[1]==="inline-block"){h.push(F+a[0]+"inline-stack");h.push("zoom:1;*display:inline")}break;case t:c[1]==="ellipsis"&&h.push(a[2]+k);break;case"opacity":var H=parseInt(parseFloat(c[1])*100);h.push(a[3]+"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity="+H+")");h.push("filter: alpha(opacity="+H+")");h.push(a[0]+k);h.push(a[1]+k);break;case o:if(c[1]==="padding-box"){h.push(a[1]+k);h.push(a[0]+c[0]+":padding")}break;case j:case"background-color":case u:var C="linear-gradient";if(c[1].indexOf(C)!==-1){var G=c[1].substr(C.length);if(c[0]===j)G=c[1].substr(C.length).match(/\((.*)\)/)[0];var K=C+G;e([0,1,2,3],function(b){h.push(c[0]+y+a[b]+K)})}else if(c[1].indexOf("rgba")!==-1){var B=c[1].match(/rgba\((.*?)\)/)[1].split(","),I=Math.floor(+b(B[3])*255).toString(16)+z(+b(B[0]),+b(B[1]),+b(B[2]));h.push("filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+I+",endColorstr=#"+I+");zoom:1")}}h.length>0&&D.push(h.join(d))}return D.length>0?D.join(d):f};c.fetchCSS=function(b,d){var a=[];for(var c in b)typeof b[c]===g&&a.push(A(b[c]));return d==null?a:a[0]};domReady(function(){var d=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),e=[];for(var a in b)typeof b[a]==="object"&&b[a].className==="cssfx"&&e.push(b[a].href);var f=c.fetchCSS(e);for(var a in d)typeof d[a]==="object"&&f.push(d[a].innerHTML);c.insertCSS(c.processCSS(f))})})(cssFx);
